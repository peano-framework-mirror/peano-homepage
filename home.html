<center>
  <img src="logo.png" />
</center>

<h1>Peano - a Framework for Solvers on Spacetree Grids</h1>
<h2>www.peano-framework.org</h2>


<p>
Peano is an open source C++ solver framework. 
It is based upon the fact that spacetrees, a generalisation of the classical 
octree concept, yield a cascade of adaptive Cartesian grids. 
Consequently, any spacetree traversal is equivalent to an element-wise 
traversal of the hierarchy of the adaptive Cartesian grids. 
The software Peano realises such a grid traversal and storage algorithm, and 
it provides hook-in points for applications performing per-element, per-vertex, 
and so forth operations on the grid. 
It also provides interfaces for dynamic load balancing, sophisticated 
geometry representations, and other features.
Some properties are enlisted below.
</p>

<p>
Peano is currently available in its third generation.
The development of the original set of Peano codes started around 2002.
2005-2009, we merged these codes into one Peano kernel (2nd generation).
2009, I started a complete reimplementation of the kernel with special emphasis on
reusability, application-independent design and the support for rapid prototyping.
Currently, HPC challenges and extensions dominate the development.  
All data you can download today are stable, i.e. the interfaces will not change.
Updates to the kernel (in particular to speed up simulations) will be hidden from any application or
will be made available due to additional, non-mandatory APIs.
</p>

<p>
Peano is plain C++ code and depends only on MPI and Intel's TBB or OpenMP if you want 
to run it with distributed or shared memory support.
C++ 11 is used.
There are no further dependencies or libraries required.
If you intend to use Peano, we provide a small Java tool to facilitate rapid 
prototyping and to get rid of writing glue code.
This Peano Development Toolkit (PDT) is pure Java and uses <a href="http://www5.in.tum.de/dastgen/">DaStGen</a>.
While we provide the PDT's sources, there's also a jar file available that comprises all required 
Java libraries and runs stand alone. 
</p>



<table  border="1" style="background-color:#dedeee">
  <tr>
    <td> <b>Features</b> </td>
    <td> <b>Parallelisation</b> </td>
    <td> <b>Extensions</b> </td>
    <td> <b>Applications</b> </td>
  </tr>
  <tr>
    <td> Arbitrary dynamic adaptivity </td>
    <td> MPI support (domain decomposition) </td>
    <td> In-situ data exploration </td>
    <td> Peano is one of the building <br />blocks of the <a href="http://www5.in.tum.de/forschung/exahype/" target="_blank">ExaHyPE</a> project 
   </td>
  </tr>
  <tr>
    <td> Arbitrary spatial dimensions <br /> or space-time grids</td>
    <td> OpenMP and TBB support </td>
    <td> Multiscale data compression <br &> with reduced floating point <br /> accuracy </td>
    <td> Interface to <a href="http://numerics.kaust.edu.sa/pyclaw/" target="_blank">PyClaw/ClawPack</a> <br /> due to <a href="http://www.peano-framework.org/download.shtml">PeanoClaw</a> 
  </tr>
  <tr>
    <td> Inherent geometric multiscale <br /> representation of the computational <br /> domain </td>
    <td> Plug-in points for hybrid <br /> load balancing </td>
  </tr>
  <tr>
    <td> Low memory requirements </td>
    <!--
    <td> Resiliency support due to <br /><a href="http://www.exascience.com/cobra/" target="_blank">Cobra</a> </td>
    -->
  </tr>
  <tr>
    <td> Good cache and memory bus <br /> behaviour </td> 
  </tr>
  <tr>
    <td> Complex-valued degrees of <br /> freedom </td>
  </tr>
</table>


<h2>Recent News</h2>

<ul>
  <li>
    2015-09: <i>Webpage update</i><br />
    Following recommendations of the <a href="http://www.software.ac.uk/">Software Sustainability Institute</a>, I will restructure the webpage throughout the next months. 
    Please pay special attention to the documentation sections.
  </li>
  <li>
    2015-08: <i>Data compression</i><br />
    We've added a new class to the heap namespace that allows codes to compress their double and floating point data. The class
    allows codes to prescribe the precision they need. Its methods then decompose the floating point variable such that few 
    chars are sufficient to store the value. Details will be presented in my ParCo 2015 talk. 
  </li>
  <li>
    2015-04: <i>ExaHyPE</i><br />
    The H2020 project <a href="http://www5.in.tum.de/forschung/exahype/" target="_blank">ExaHyPE</a> got granted. ExaHyPE will rely on Peano as grid management and 
    we will continue to improve the software due to this grant. 
  </li>
  <li>
    2015-02: <i>Support for particles added</i><br />
    Because of our recent work on particle-in-cell methods (<a href="http://arxiv.org/abs/1508.02435">arXiv preprint</a>), Peano now allows users to embed particles into the grid.
    This is made possible by Peano's heap. I've uploaded a small toolbox that realises the paper's algorithms and allows any application to use particles without any coding to 
    insert them into the cell into which they belong accoring to their position in space. If particles move, the embedding is updated automatically.
  </li>
</ul>


<!--
Support

 and 
its license is available on the Copyright page to your left. 
As support, there is a Peano developer list, but noone commits to give support.
To subscribe/unsubscribe, visit <a href="https://sourceforge.net/p/peano/mailman/" target="_blank">the
mailman</a>.
For bug reports, please also register to the maillist and post your bug description to the 
Peano community.
If you need further information on Peano, please contact <a href="mailto:info(at)peano-framework.org">the info email</a>.
-->


<!--
<h2>Documentation</h2>
<p>
Most of the documentation is done directly in the source code, but there are 
some mini tutorials available in the project wiki. Also, the example applications
might be a good starting point to get familiar with Peano.
</p>
<center>
<table  border="1"><tr><td>
<img src="http://www5.in.tum.de/persons/weinzier/diss.jpg" />
</td></tr></table>
</center>
<p>
The fundamental algorithmic ideas are described in the 
<a href="http://www.hut-verlag.de/978-3-86853-146-6.html" target="_blank">book</a> from above and the SISC paper 
mentioned below. You also find the full BibTeX reference for the book below.
I strongly appreciate if you buy the book, however there's also a 
<a href="http://www5.in.tum.de/persons/weinzier/diss.pdf" target="_blank">download version</a>.
</p>

<p>
 We also have a paper describing the software architecture. It is available from <a href="http://arxiv.org/abs/1506.04496">arXiv</a>.
</p>
-->

<!--
<h2>Users of Peano</h2>
<center>
<script src="http://www.ammap.com/lib/3/ammap.js" type="text/javascript"></script>
<script src="http://www.ammap.com/lib/3/maps/js/worldHigh.js" type="text/javascript"></script>
<div id="mapdiv" style="width: 1000px; height: 450px;"></div>

<script type="text/javascript">
    var map;
    AmCharts.ready(function() {
        map = new AmCharts.AmMap();
        map.pathToImages = "http://www.ammap.com/lib/images/";
        map.panEventsEnabled = true;
        map.backgroundColor = "#666666";
        map.backgroundAlpha = 1;
        
        map.zoomControl.panControlEnabled = true;
        map.zoomControl.zoomControlEnabled = true;
    
        var dataProvider = {
            mapVar: AmCharts.maps.worldHigh,
            getAreasFromMap: true,
            areas: [
                { id: 'BE', showAsSelected: true },
{ id: 'DE', showAsSelected: true },
{ id: 'NL', showAsSelected: true },
{ id: 'CH', showAsSelected: true },
{ id: 'GB', showAsSelected: true },
{ id: 'OM', showAsSelected: true },
{ id: 'SA', showAsSelected: true },
{ id: 'NZ', showAsSelected: true }
            ]
        };
    
        map.dataProvider = dataProvider;
    
        map.areasSettings = {
            autoZoom: true,
            color: "#CDCDCD",
            colorSolid: "#5EB7DE",
            selectedColor: "#5EB7DE",
            outlineColor: "#666666",
            rollOverColor: "#88CAE7",
            rollOverOutlineColor: "#FFFFFF"
        };
    
        map.write("mapdiv");
    });
</script>
</center>
If you are not on this list, please contact us via email to update our map. 
-->


<h2>Citing Peano</h2>
<p>
If you use Peano, please cite it as 
</p>
<table  border="1"><tr><td>
<pre>
@Misc{Software:Peano,
  author = {Tobias Weinzierl and others},
  title  = {Peano---a {F}ramework for {PDE} {S}olvers on {S}pacetree {G}rids},
  url    = {http://www.peano-framework.org},
  year   = {201x},   % adopt to your paper
  note   = {http://www.peano-framework.org}
}
</pre>
</td></tr></table>
<p>
or refer to the book <a href="http://www.dr.hut-verlag.de/978-3-86853-146-6.html" target="_blank">A 
Framework for Parallel PDE Solvers on Multiscale Adaptive Cartesian Grids</a> that is 
also available <a href="http://www5.in.tum.de/wiki/index.php/Dr._rer._nat._Tobias_Weinzierl" target="_blank">online</a>. 
A paper describing the fundamental algorithmic ideas of Peano is 
</p>
<table  border="1"><tr><td>
<pre>
@article{weinzierl11peano,
    author = {Weinzierl, Tobias and Mehl, Miriam},
    journal = {SIAM Journal on Scientific Computing},
    editor = {Tuminaro, R. and Benzi, M. and Cai, X.-C. and Duff, I. and Elman, H. and 
              Freund, R. and Jordan, K. and Kelley, T. and Keyes, D. and Kilmer, M. and 
              Leyffer, S. and Manteuffel, T. and McCormick, S. and Silvester, D. and 
              Walker, H. and Woodward, C. and Yavneh, I.},
    institution = {SIAM},
    month = oct,
    number = {5},
    organization = {SIAM},
    pages = {2732--2760},
    series = {Special Section: 2010 Copper Mountain Conference},
    title = {Peano -- A Traversal and Storage Scheme for Octree-Like Adaptive Cartesian Multiscale Grids},
    volume = {33},
    year = {2011},
    ISSN = {1064-8275},
    URL = {http://link.aip.org/link/?SCE/33/2732}
}
</pre>
</td></tr></table>
<p>
while the arXiv preprint below describes its software architecture/paradigms.
</p>
<table  border="1"><tr><td>
<pre>
@TechReport{Weinzierl:15:Peano,
  author =   {T.~Weinzierl},
  title =    {The {P}eano software---parallel, automaton-based, dynamically adaptive grid traversals},
  institution =  {Durham University},
  year =     {2015},
  number =   {2015arXiv150604496W},
  OPTnote =      {eprint arXiv:1506.04496}
}
</pre>
</td></tr></table>


<!--
<p>
  For the individual solvers realised on top of Peano, multiple papers and 
  several books (Ph.D. theses) do exist. Consult the <a href="http://www5.in.tum.de/" target="_blank">webpages</a> of 
  the TUM group, the links above, or the gallery to the left, e.g.
</p>


<h2>Supported environments</h2>


<table>
  <tr>
    <td> <b>Compiler/lib</b> </td> 
    <td> <b>System</b> </td>
    <td> <b>Recommended options</b> </td>
  </tr>
  <tr>
    <td> gcc 4.7 (g++) </td>
    <td> Linux   </td>
    <td>-O3 -pedantic -pedantic-errors -Wall -Werror -Wstrict-aliasing -fstrict-aliasing</td>
  </tr>
  <tr>
    <td> Intel 13.0.1 (icpc) </td>
    <td> Linux   </td>
    <td> /DNOMINMAX /D__WIN32__ /O3 /Ob0 /QxSSE4.2 /Qip /Zi </td>
  </tr>
  <tr>
    <td> Intel 13.0.1 (icl) </td>
    <td> Windows </td>
    <td> -fast -fstrict-aliasing  -DMPICH_IGNORE_CXX_SEEK -fast -fno-rtti -no-ipo -ip </td>
  </tr>
  <tr>
    <td> IBM XLC (xlcxx) </td>
    <td> BlueGene/P, BlueGene/Q </td>
    <td> -qpack_semantic=gnu </td>
  </tr>
  <tr>
    <td> <hr/> </td>
    <td> <hr/> </td>
    <td> <hr/> </td>
  </tr>
  <tr>
    <td> mpich2 </td>
    <td> Linux   </td>
    <td> -DMPICH_IGNORE_CXX_SEEK -Wno-long-long</td>
  </tr>
  <tr>
    <td> openmpi </td>
    <td> Linux   </td>
    <td> -DMPICH_IGNORE_CXX_SEEK -Wno-long-long</td>
  </tr>
  <tr>
    <td> <hr/> </td>
    <td> <hr/> </td>
    <td> <hr/> </td>
  </tr>
  <tr>
    <td> Intel TBB 4.0 </td>
    <td> Linux   </td>
    <td> -Wno-long-long</td>
  </tr>
  <tr>
    <td> Intel TBB 4.0 </td>
    <td> Windows   </td>
    <td> /DTBB_USE_THREADING_TOOLS </td>
  </tr>
</table>
-->
